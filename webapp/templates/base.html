<!DOCTYPE html>
{% import "macro_form_field.html" as macro_form %}
{% import "macro_submit_field.html" as macro_submit %}

<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="/bootstrap" rel="stylesheet">

    {% if title %}
    <title>{{ title }} - MyBlog</title>
    {% else %}
    <title>MyBlog</title>
    {% endif %}
</head>

<body>
    <nav class="navbar navbar-expand bg-light m-3 px-3 py-1">
        <div class="d-flex flex-grow-1">
            <span class="navbar-brand h1">Bloggg</span>
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('index_page') }}">Home</a>
                </li>
            </ul>
        </div>
        <div style="d-flex">
            <ul class="navbar-nav">
            {% if current_user.is_anonymous %}
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('login_page') }}">Login</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('registration_page') }}">Register</a>
                </li>
            {% else %}
                <li class="nav-item">
                    Hi <b>{{ current_user.username }}</b>!
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('logout_page') }}">Logout</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('user_page', username=current_user.username) }}">Profile page</a>
                </li>
            {% endif %}
            </ul>
        </div>
    </nav>
    <div class="container mb-3">
        {% with flashed_messages = get_flashed_messages() %}
        {% if flashed_messages %}
            {% for message in flashed_messages %}
            <div class="alert alert-info" role="alert">
                {{ message }}
            </div>
            {% endfor %}
        {% endif %}
        {% endwith %}
    </div>
    <div class="container-fluid m-0 px-3">
        <div class="container-fluid m-0 p-3 bg-light">
        {% block content %} {% endblock %}
        </div>
    </div>
</body>
</html>